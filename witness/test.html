<html xmlns="http://www.w3.org/2000/xhtml">
  <head>
    <style>
      .line {fill: #AAA;}
      @font-face {src: url('Constantia.ttf')}
      label {
        font-family: Constantia;
        font-variant: small-caps;
        font-weight: bold;
        font-size: 28px;
      }
      table {
        position: relative;
        top: 10%;
        margin: auto;
      }
    </style>
    <link rel="stylesheet" type="text/css" href="style1.css" id="stylesheet">
    <!-- document.getElementById("stylesheet").href = 'style2.css' -->
    <script type="text/javascript" src="engine/polyominos.js"></script>
    <script type="text/javascript" src="engine/utilities.js"></script>
    <script type="text/javascript" src="engine/puzzle.js"></script>
    <script type="text/javascript" src="engine/solve.js"></script>
    <script type="text/javascript" src="engine/validate.js"></script>
    <script type="text/javascript" src="engine/display.js"></script>
    <script type="text/javascript" src="engine/trace.js"></script>
    <script type="text/javascript" src="test.js"></script>
    <title>Random tests or something</title>
  </head>
  <body>

    <div style="text-align: center"><label style="font-size: 72">Test Cases</label></div>
    <div style="text-align: center">
      <label for="sens">Mouse Speed 2D</label>
      <input id="sens" type="range" min="0.1" max="1.3" step="0.1" onchange="localStorage.sensitivity = this.value"/>
      <script>document.getElementById('sens').value = localStorage.sensitivity</script>
    </div>

    <table id="meta" cellpadding="30"></table>
    <script type="text/javascript">
      var table = document.getElementById('meta')
      for (var i=0; i<tests.length; i+=3) {
        var row = table.insertRow()
        for (var j=i; j<i+3 && j < tests.length; j++) {
          var cell = row.insertCell()
          var subtable = document.createElement('table')
          subtable.id = 'test'+j
          cell.appendChild(subtable)

          try {
            var solutions = []
            var puzzleData = tests[j]()
            solve(puzzleData.puzzle, puzzleData.puzzle.start.x, puzzleData.puzzle.start.y, solutions)
            if (solutions.length != puzzleData.solutions) {
              console.log('Puzzle has', solutions.length, 'solutions, should have', puzzleData.solutions)
              console.log(solutions)
              document.getElementById('test'+j).parentElement.bgColor = 'red'
            }
            draw(puzzleData.puzzle, 'test'+j)
          } catch (e) {
            document.getElementById('test'+j).innerHTML = e.stack || 'ERROR: '+e
          }

        }
      }
    </script>
  </body>
</html>
